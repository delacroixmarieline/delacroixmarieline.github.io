---
layout: default
---
{% comment %}++++++++++++ Generates Category Page +++++++++++++{% endcomment %}

{% assign pathName = page.url | remove: "/" %}

{% assign categoryConfig = site.catalog-categories | where: "name", pathName | first %}

{% if categoryConfig.display != nil %}
  {% assign categoryName = categoryConfig.display %}
{% else %}
  {% assign categoryName = categoryConfig.name | capitalize %}
{% endif %}

<h1 class="page-title">Catalogue : {{ categoryName | capitalize }}</h1>
{% comment %}
{{ content }}
{% endcomment %}

{% assign items = site.catalogue | where: "type", pathName | where: "archive", false | reverse %}

{% for item in items %}
    {% assign remain = forloop.index | modulo: 4 %}
    {% if remain == 1 %}<div class="row catalog-list">{% endif %}
    {% include catalog-list-item.html item=item index=forloop.index %}
    {% if remain == 0 or forloop.last == true %}</div>{% endif %}
{% endfor %}
